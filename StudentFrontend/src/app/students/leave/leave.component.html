<app-navbar1></app-navbar1>
<div class="leave-container">
    <h2>Leave Requests</h2>

    <!-- Optional: Uncomment the following table to display existing leave requests -->
    <!-- 
    <table>
      <thead>
        <tr>
          <th>Registration Number</th>
          <th>Leave Type</th>
          <th>Reason</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let leave of leaveRequests">
          <td>{{ leave.registrationNumber }}</td>
          <td>{{ leave.leaveType }}</td>
          <td>{{ leave.reason }}</td>
          <td>{{ leave.startDate | date }}</td>
          <td>{{ leave.endDate | date }}</td>
          <td [ngClass]="{
            'text-success': leave.status === 'Approved',
            'text-danger': leave.status === 'Rejected',
            'text-warning': leave.status === 'Pending'
          }">{{ leave.status }}</td>
        </tr>
      </tbody>
    </table>
    -->

    <h3>Submit Leave Request</h3>
    <form (ngSubmit)="submitLeaveRequest()">
      <label for="registrationNumber">Registration Number:</label>
      <input type="text" id="registrationNumber" [(ngModel)]="leaveRequest.registrationNumber" name="registrationNumber" required>

      <label for="leaveType">Leave Type:</label>
      <select id="leaveType" [(ngModel)]="leaveRequest.leaveType" name="leaveType" required>
        <option value="" disabled selected>Select Leave Type</option>
        <option value="Sick Leave">Sick Leave</option>
        <option value="Casual Leave">Casual Leave</option>
        <option value="Emergency Leave">Emergency Leave</option>
        <option value="Other">Other</option>
      </select>
      
      <label for="reason">Reason:</label>
      <textarea id="reason" [(ngModel)]="leaveRequest.reason" name="reason" required></textarea>

      <label for="startDate">Start Date:</label>
      <input type="date" id="startDate" [(ngModel)]="leaveRequest.startDate" name="startDate" required>

      <label for="endDate">End Date:</label>
      <input type="date" id="endDate" [(ngModel)]="leaveRequest.endDate" name="endDate" required>

      <button type="submit">Submit Leave Request</button>
    </form>

    <!-- Success message after submitting leave request -->
    <div *ngIf="leaveRequest.status" class="alert alert-success mt-3">
      Leave request submitted successfully!
    </div>
</div>
